```uml
@startuml
ユーザー -> webサーバー : ログイン
webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> webサーバー : 認証結果

activate ユーザー
alt 認証成功
webサーバー -> ユーザー : ユーザー名を表示
else 認証失敗
webサーバー -> ユーザー : 失敗メッセージを表示
end

opt ログイン中
ユーザー -> webサーバー : カートに入れる
webサーバー -> DBサーバー : カート内処理
DBサーバー -> DBサーバー : カート内処理
DBサーバー -> webサーバー : カート内結果
webサーバー -> ユーザー : カート内結果

opt 注文
ユーザー -> webサーバー : 注文
webサーバー -> DBサーバー : 注文処理
DBサーバー -> DBサーバー : 注文処理
DBサーバー -> webサーバー : 注文結果
alt 注文確定
webサーバー -> ユーザー : 注文内容を表示
else 注文不確定
webサーバー -> ユーザー : 失敗メッセージを表示
end
end
end

@enduml
```
